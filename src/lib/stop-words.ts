// Спільний список стоп-слів для української та російської мов
export const STOP_WORDS = new Set([
  // Українські стоп-слова
  // Сполучники
  'для', 'що', 'як', 'та', 'від', 'до', 'при', 'про', 'або',
  'але', 'під', 'над', 'без', 'через', 'щоб', 'якщо', 'коли',
  'поки', 'доки', 'аби', 'хоч', 'хоча', 'проте', 'зате', 'однак',
  'тому', 'тож', 'отже', 'адже', 'бо', 'оскільки', 'тобто',
  
  // Прийменники
  'на', 'в', 'у', 'з', 'із', 'зі', 'за', 'над', 'під', 'перед',
  'після', 'між', 'біля', 'коло', 'край', 'поруч', 'близько',
  'всередині', 'зовні', 'навколо', 'попри', 'крізь', 'через',
  'протягом', 'упродовж', 'внаслідок', 'завдяки', 'згідно',
  
  // Частки
  'не', 'ні', 'ані', 'би', 'б', 'же', 'ж', 'бо', 'ну', 'ось',
  'от', 'це', 'оце', 'он', 'ген', 'аж', 'таки', 'навіть',
  'все', 'уже', 'вже', 'ще', 'саме', 'точно', 'якраз',
  
  // Займенники
  'я', 'ти', 'він', 'вона', 'воно', 'ми', 'ви', 'вони',
  'мій', 'твій', 'свій', 'наш', 'ваш', 'їх', 'їхній',
  'цей', 'ця', 'це', 'ці', 'той', 'та', 'те', 'ті',
  'такий', 'така', 'таке', 'такі', 'весь', 'вся', 'все',
  'всі', 'кожний', 'кожна', 'кожне', 'кожні', 'жодний',
  'котрий', 'котра', 'котре', 'котрі', 'який', 'яка', 'яке',
  'які', 'чий', 'чия', 'чиє', 'чиї', 'хто', 'що', 'чого',
  'кому', 'ким', 'чим', 'його', 'йому', 'ним', 'них', 'нею',
  'ними', 'мене', 'тебе', 'себе', 'нас', 'вас', 'вам', 'нам',
  
  // Числівники
  'один', 'два', 'три', 'чотири', 'пять', 'шість', 'сім',
  'вісім', 'девять', 'десять', 'перший', 'другий', 'третій',
  'багато', 'мало', 'кілька', 'декілька', 'стільки',
  
  // Прислівники
  'тут', 'там', 'туди', 'сюди', 'звідти', 'звідси', 'скрізь',
  'всюди', 'десь', 'колись', 'завжди', 'іноді', 'інколи',
  'часто', 'рідко', 'зараз', 'тепер', 'потім', 'згодом',
  'сьогодні', 'вчора', 'завтра', 'вранці', 'вдень', 'ввечері',
  'вночі', 'добре', 'погано', 'гарно', 'чудово', 'швидко',
  'повільно', 'високо', 'низько', 'далеко', 'близько',
  
  // Дієслова
  'бути', 'є', 'був', 'була', 'було', 'були', 'буде', 'будуть',
  'може', 'можуть', 'міг', 'могла', 'могло', 'могли', 'мусить',
  'мусять', 'треба', 'потрібно', 'необхідно', 'можна', 'слід',
  'має', 'мають', 'хоче', 'хочуть', 'хотів', 'хотіла', 'хотіли',

  // Додаткові стоп-слова
  'також', 'тільки', 'лише', 'саме', 'навіть', 'адже', 'отже',
  'тому', 'тобто', 'крім', 'окрім', 'замість', 'серед', 'посеред',
  'протягом', 'впродовж', 'поміж', 'навпроти', 'попри', 'задля',
  'заради', 'згідно', 'відповідно', 'стосовно', 'щодо', 'відносно',
  'нарешті', 'зрештою', 'врешті', 'власне', 'справді', 'дійсно',
  'звичайно', 'зазвичай', 'взагалі', 'загалом', 'зовсім', 'майже',
  'ледве', 'досить', 'надто', 'занадто', 'доволі', 'цілком',
  'повністю', 'частково', 'інакше', 'навпаки', 'причому', 'притому',
  'водночас', 'зокрема', 'особливо', 'переважно', 'здебільшого',
  'головним', 'чином', 'певною', 'мірою', 'якось', 'якимось',
  'чином', 'принаймні', 'щонайменше', 'якнайменше', 'якнайбільше',
  'щонайбільше', 'неначе', 'немов', 'немовби', 'наче', 'начебто',
  'ніби', 'нібито', 'буцім', 'буцімто', 'мовляв',

  // Російські стоп-слова
  // Союзы
  'и', 'в', 'во', 'не', 'что', 'он', 'на', 'я', 'с', 'со',
  'как', 'а', 'то', 'все', 'она', 'так', 'его', 'но', 'да', 'ты',
  'к', 'у', 'же', 'вы', 'за', 'бы', 'по', 'только', 'ее', 'мне',
  'было', 'вот', 'от', 'меня', 'еще', 'нет', 'о', 'из', 'ему',
  'теперь', 'когда', 'даже', 'ну', 'вдруг', 'ли', 'если', 'уже',
  'или', 'ни', 'быть', 'был', 'него', 'до', 'вас', 'нибудь',
  'уж', 'вам', 'ведь', 'там', 'потом', 'себя', 'ничего',
  'ей', 'может', 'они', 'тут', 'где', 'есть', 'надо', 'ней',
  'для', 'мы', 'тебя', 'их', 'чем', 'была', 'сам', 'чтоб',
  'без', 'будто', 'чего', 'раз', 'тоже', 'себе', 'под',
  'будет', 'ж', 'тогда', 'кто', 'этот', 'того', 'потому',
  'этого', 'какой', 'совсем', 'ним', 'здесь', 'этом', 'один',
  'почти', 'мой', 'тем', 'чтобы', 'нее', 'сейчас', 'были',
  'куда', 'зачем', 'всех', 'никогда', 'можно', 'при',
  'наконец', 'два', 'об', 'другой', 'хоть', 'после', 'над',
  'больше', 'тот', 'через', 'эти', 'нас', 'про', 'всего',
  'них', 'какая', 'много', 'разве', 'три', 'эту', 'моя',
  'впрочем', 'хорошо', 'свою', 'этой', 'перед', 'иногда',
  'лучше', 'чуть', 'том', 'нельзя', 'такой', 'им', 'более',
  'всегда', 'конечно', 'всю', 'между',

  // Предлоги
  'около', 'среди', 'вокруг', 'вдоль', 'возле', 'близ',
  'вне', 'ради', 'благодаря', 'согласно', 'вопреки',
  'кроме', 'сквозь', 'спустя', 'вследствие', 'ввиду',
  'насчет', 'включая', 'несмотря', 'касательно', 'исключая',

  // Частицы
  'лишь', 'именно', 'просто', 'прямо', 'исключительно', 
  'единственно', 'неужели', 'вряд', 'едва', 'якобы', 'авось',
  'пожалуй', 'небось', 'дескать',

  // Местоимения
  'таков', 'сей', 'оный', 'самый', 'всякий', 'любой',
  'иной', 'некоторый', 'некий', 'кто-то', 'что-то',
  'кто-нибудь', 'что-нибудь', 'кто-либо', 'что-либо',
  'никто', 'ничто', 'некто', 'нечто', 'несколько',
  'столько', 'настолько',

  // Наречия
  'где-то', 'куда-то', 'когда-то', 'откуда-то', 'зачем-то',
  'почему-то', 'как-то', 'где-нибудь', 'куда-нибудь',
  'когда-нибудь', 'откуда-нибудь', 'зачем-нибудь',
  'почему-нибудь', 'как-нибудь', 'негде', 'некуда',
  'некогда', 'незачем', 'оттуда', 'отсюда', 'везде',
  'всюду', 'повсюду', 'нигде', 'никуда', 'ниоткуда',
  'вверх', 'вниз', 'вперед', 'назад', 'налево',
  'направо', 'внутрь', 'наружу',

  // Глаголы-связки
  'стать', 'становиться', 'являться', 'казаться',
  'считаться', 'называться', 'оказываться', 'значить',
  'суть',

  // Вводные слова и конструкции
  'возможно', 'вероятно', 'наверное', 'разумеется',
  'действительно', 'очевидно', 'безусловно', 'несомненно',
  'видимо', 'следовательно', 'итак', 'значит', 'стало быть',
  'например', 'скажем', 'допустим', 'положим', 'предположим',
  'во-первых', 'во-вторых', 'в-третьих', 'напротив',
  'наоборот', 'так сказать', 'иначе говоря', 'точнее',
  'короче', 'более того', 'кстати', 'между прочим',
  'кроме того', 'к тому же', 'вдобавок', 'притом',
  'главное', 'самое главное', 'к сожалению', 'к счастью',
  'к несчастью', 'по счастью', 'по несчастью', 'по сути',
  'по существу', 'в сущности', 'собственно', 'вообще',
  'в общем', 'в целом', 'в принципе', 'практически',
  'фактически', 'по идее', 'вроде', 'типа', 'будто',
  'как будто', 'как бы', 'своего рода', 'некоторым образом',
  'в некотором роде', 'до некоторой степени', 'в какой-то мере',
  'отчасти', 'так или иначе', 'так или эдак', 'волей-неволей',
  'хочешь не хочешь', 'таким образом', 'тем самым',
  'поэтому', 'потому', 'в таком случае', 'в противном случае',
  'а именно', 'то есть', 'иными словами', 'другими словами',
  'говоря иначе', 'если можно так выразиться',
  'с позволения сказать', 'с одной стороны',
  'с другой стороны', 'тем временем', 'сверх того',
  'больше того', 'вместе с тем', 'при этом', 'при том',
  'в то же время', 'по крайней мере', 'в крайнем случае',
  'по возможности', 'по мере возможности', 'насколько возможно',
  'до известной степени', 'более или менее',
  'во всяком случае', 'на худой конец', 'в любом случае',
  'что называется', 'мягко говоря', 'честно говоря',
  'по правде говоря', 'по совести говоря',
  'по справедливости говоря', 'надо признаться',
  'надо сказать', 'надо полагать', 'думается', 'помнится',
  'знаете ли', 'видите ли', 'понимаете ли', 'признаться',
  'признаюсь', 'каюсь', 'представьте', 'представьте себе',
  'поверьте', 'поверите ли', 'вообразите', 'послушайте',
  'согласитесь', 'заметьте', 'знаете', 'видите',
  'понимаете', 'пойми', 'поймите', 'извините',
  'простите', 'веришь ли', 'верите ли', 'скажи',
  'скажите', 'помилуй', 'помилуйте','это'
]);

// Функція для перевірки, чи є слово стоп-словом
export function isStopWord(word: string): boolean {
  return STOP_WORDS.has(word.toLowerCase());
}

// Функція для фільтрації стоп-слів з тексту
export function removeStopWords(text: string): string[] {
  return text
    .toLowerCase()
    .split(/\s+/)
    .filter(word => !isStopWord(word) && word.length > 2);
}

// Функція для нормалізації тексту та видалення стоп-слів
export function normalizeText(text: string): string {
  return text
    .toLowerCase()
    .replace(/[^а-яіїєґ'\\-\\s]/gi, ' ') // Залишаємо тільки українські та російські літери
    .split(/\s+/)
    .filter(word => !isStopWord(word) && word.length > 2)
    .join(' ');
}